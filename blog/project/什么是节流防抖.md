---
id: 1035
slug: debounce-throttle-explanation-implementation
title: é˜²æŠ–ä¸èŠ‚æµï¼šå‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„å¿…å¤‡æŠ€å·§
authors: bianliang
keywords: [é˜²æŠ–, èŠ‚æµ, å‰ç«¯ä¼˜åŒ–, JavaScriptæ€§èƒ½, äº‹ä»¶å¤„ç†, å‡½æ•°ä¼˜åŒ–]
tags: [JavaScript, å‰ç«¯ä¼˜åŒ–, æ€§èƒ½ä¼˜åŒ–, ä»£ç æŠ€å·§]
description: æ·±å…¥è§£æé˜²æŠ–(Debounce)ä¸èŠ‚æµ(Throttle)çš„åŸç†ã€åŒºåˆ«åŠå®ç°æ–¹æ³•ï¼Œé€šè¿‡å®é™…æ¡ˆä¾‹å±•ç¤ºå¦‚ä½•ä¼˜åŒ–é«˜é¢‘äº‹ä»¶å¤„ç†ï¼Œæå‡å‰ç«¯åº”ç”¨æ€§èƒ½ã€‚
image: https://bianliangrensheng.cn/gImage/title/debounce-throttle.png
date: 2025-04-21
---

# é˜²æŠ–ä¸èŠ‚æµï¼šå‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„å¿…å¤‡æŠ€å·§

ğŸš€ åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†é¢‘ç¹è§¦å‘çš„äº‹ä»¶ï¼Œå¦‚æ»šåŠ¨ã€è°ƒæ•´çª—å£å¤§å°ã€æŒ‰é”®æ“ä½œç­‰ã€‚å¦‚æœä¸åŠ ä»¥æ§åˆ¶ï¼Œè¿™äº›äº‹ä»¶å¯èƒ½å¯¼è‡´å¤§é‡å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œé€ æˆæ€§èƒ½é—®é¢˜å’Œç³Ÿç³•çš„ç”¨æˆ·ä½“éªŒã€‚ä»Šå¤©ï¼Œæˆ‘è¦ä»‹ç»ä¸¤ä¸ªè§£å†³è¿™ç±»é—®é¢˜çš„å®ç”¨æŠ€å·§ï¼š**é˜²æŠ–(Debounce)** å’Œ **èŠ‚æµ(Throttle)**ã€‚

<!-- truncate -->

## ğŸ” ä¸€ã€ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµ

### 1.1 åŸºæœ¬æ¦‚å¿µ

é˜²æŠ–å’ŒèŠ‚æµçš„æœ¬è´¨éƒ½æ˜¯**ä¼˜åŒ–é«˜é¢‘ç‡æ‰§è¡Œä»£ç çš„æ‰‹æ®µ**ã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œåƒ `resize`ã€`scroll`ã€`keypress`ã€`mousemove` ç­‰äº‹ä»¶å¯èƒ½ä¼šè¿ç»­ä¸æ–­åœ°è§¦å‘ï¼Œå¯¼è‡´å¤„ç†å‡½æ•°è¢«é¢‘ç¹è°ƒç”¨ï¼Œæ¶ˆè€—å¤§é‡è®¡ç®—èµ„æºï¼Œé™ä½é¡µé¢æ€§èƒ½ç”šè‡³å¯¼è‡´å¡é¡¿ã€‚

:::tip ç®€å•ç†è§£
- **èŠ‚æµ(Throttle)**: æ§åˆ¶å‡½æ•°æ‰§è¡Œé¢‘ç‡ï¼Œä¸€æ®µæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡
- **é˜²æŠ–(Debounce)**: å»¶è¿Ÿå‡½æ•°æ‰§è¡Œï¼Œå¤šæ¬¡è§¦å‘æ—¶åªæ‰§è¡Œæœ€åä¸€æ¬¡ï¼ˆæˆ–ç¬¬ä¸€æ¬¡ï¼‰
:::

### 1.2 å½¢è±¡æ¯”å–»ï¼šç”µæ¢¯çš„è¿è¡Œç­–ç•¥

æƒ³è±¡ä¸€ä¸‹æ¯å¤©ä¸Šç­æ—¶å¤§å¦åº•ä¸‹çš„ç”µæ¢¯ã€‚æŠŠç”µæ¢¯å®Œæˆä¸€æ¬¡è¿é€ï¼Œç±»æ¯”ä¸ºä¸€æ¬¡å‡½æ•°çš„æ‰§è¡Œå’Œå“åº”ï¼š

ğŸ¢ **ç”µæ¢¯ç­–ç•¥ï¼ˆå‡è®¾è¶…æ—¶è®¾å®šä¸º15ç§’ï¼‰**ï¼š
- **èŠ‚æµç‰ˆç”µæ¢¯**ï¼šç¬¬ä¸€ä¸ªäººè¿›æ¥åï¼Œç”µæ¢¯15ç§’åå‡†æ—¶è¿é€ã€‚ä¸ç®¡æœŸé—´åˆæœ‰å¤šå°‘äººè¿›æ¥ï¼Œéƒ½ä¸ä¼šå½±å“è¿™ä¸ª15ç§’çš„å®šæ—¶ã€‚
- **é˜²æŠ–ç‰ˆç”µæ¢¯**ï¼šç¬¬ä¸€ä¸ªäººè¿›æ¥åï¼Œç”µæ¢¯ç­‰å¾…15ç§’ã€‚å¦‚æœæœŸé—´åˆæœ‰äººè¿›æ¥ï¼Œ15ç§’ç­‰å¾…é‡æ–°è®¡æ—¶ã€‚ç›´åˆ°æœ€å15ç§’æ²¡æœ‰æ–°äººè¿›æ¥ï¼Œæ‰å¼€å§‹è¿é€ã€‚

## ğŸ› ï¸ äºŒã€å®ç°æ–¹å¼

### 2.1 èŠ‚æµ(Throttle)çš„å®ç°

èŠ‚æµçš„æ ¸å¿ƒæ˜¯ï¼š**åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œæ— è®ºè§¦å‘å¤šå°‘æ¬¡å‡½æ•°ï¼Œéƒ½åªæ‰§è¡Œä¸€æ¬¡**ã€‚

#### 2.1.1 æ—¶é—´æˆ³å®ç°æ–¹å¼

ä½¿ç”¨æ—¶é—´æˆ³å®ç°çš„èŠ‚æµå‡½æ•°ï¼Œä¼šåœ¨è§¦å‘äº‹ä»¶æ—¶ç«‹å³æ‰§è¡Œï¼Œä½†åç»­åªæœ‰è¾¾åˆ°é—´éš”æ—¶é—´æ‰ä¼šå†æ¬¡æ‰§è¡Œã€‚

```javascript
function throttle(fn, delay = 500) {
    let lastTime = 0;
    
    return function(...args) {
        const nowTime = Date.now();
        
        if (nowTime - lastTime >= delay) {
            fn.apply(this, args);
            lastTime = nowTime;
        }
    };
}
```

> ç‰¹ç‚¹ï¼šé¦–æ¬¡è§¦å‘ä¼šç«‹å³æ‰§è¡Œï¼Œåœæ­¢è§¦å‘åæ— æ³•å†æ¬¡æ‰§è¡Œ

#### 2.1.2 å®šæ—¶å™¨å®ç°æ–¹å¼

ä½¿ç”¨å®šæ—¶å™¨å®ç°çš„èŠ‚æµå‡½æ•°ï¼Œä¼šåœ¨å»¶è¿Ÿåæ‰ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œä¹‹åæŒ‰ç…§é—´éš”æ‰§è¡Œã€‚

```javascript
function throttle(fn, delay = 500) {
    let timer = null;
    
    return function(...args) {
        if (!timer) {
            timer = setTimeout(() => {
                fn.apply(this, args);
                timer = null;
            }, delay);
        }
    };
}
```

> ç‰¹ç‚¹ï¼šé¦–æ¬¡è§¦å‘ä¼šå»¶è¿Ÿæ‰§è¡Œï¼Œåœæ­¢è§¦å‘åä¾ç„¶ä¼šæ‰§è¡Œæœ€åä¸€æ¬¡

#### 2.1.3 ç»“åˆç‰ˆï¼ˆæ›´ç²¾ç¡®çš„æ§åˆ¶ï¼‰

ç»“åˆæ—¶é—´æˆ³å’Œå®šæ—¶å™¨ï¼Œå®ç°æ—¢ç«‹å³æ‰§è¡Œï¼Œåˆèƒ½ç¡®ä¿æœ€åä¸€æ¬¡è§¦å‘åè¿˜èƒ½æ‰§è¡Œçš„èŠ‚æµå‡½æ•°ã€‚

```javascript
function throttle(fn, delay = 500) {
    let timer = null;
    let startTime = Date.now();
    
    return function(...args) {
        const currentTime = Date.now();
        const remaining = delay - (currentTime - startTime);
        const context = this;
        
        clearTimeout(timer);
        
        if (remaining <= 0) {
            fn.apply(context, args);
            startTime = Date.now();
        } else {
            timer = setTimeout(() => {
                fn.apply(context, args);
                startTime = Date.now();
            }, remaining);
        }
    };
}
```

### 2.2 é˜²æŠ–(Debounce)çš„å®ç°

é˜²æŠ–çš„æ ¸å¿ƒæ˜¯ï¼š**å»¶è¿Ÿæ‰§è¡Œï¼Œè‹¥åœ¨ç­‰å¾…æ—¶é—´å†…å†æ¬¡è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶**ã€‚

#### 2.2.1 åŸºç¡€ç‰ˆæœ¬

```javascript
function debounce(fn, wait = 500) {
    let timer = null;
    
    return function(...args) {
        const context = this;
        
        clearTimeout(timer);
        timer = setTimeout(() => {
            fn.apply(context, args);
        }, wait);
    };
}
```

#### 2.2.2 æ”¯æŒç«‹å³æ‰§è¡Œçš„é˜²æŠ–

æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ç¬¬ä¸€æ¬¡è§¦å‘èƒ½ç«‹å³æ‰§è¡Œï¼Œåç»­è§¦å‘æ‰è¿›è¡Œé˜²æŠ–å¤„ç†ï¼š

```javascript
function debounce(fn, wait = 500, immediate = false) {
    let timer = null;
    
    return function(...args) {
        const context = this;
        
        if (timer) clearTimeout(timer);
        
        if (immediate) {
            // æ˜¯å¦éœ€è¦ç«‹å³æ‰§è¡Œ
            const callNow = !timer;
            
            timer = setTimeout(() => {
                timer = null;
            }, wait);
            
            if (callNow) {
                fn.apply(context, args);
            }
        } else {
            timer = setTimeout(() => {
                fn.apply(context, args);
            }, wait);
        }
    };
}
```

### 2.3 å°è£…æˆå·¥å…·å‡½æ•°

ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬å°è£…æˆå·¥å…·å‡½æ•°ï¼Œå¹¶æ·»åŠ å–æ¶ˆåŠŸèƒ½ï¼š

```javascript
// èŠ‚æµå·¥å…·å‡½æ•°
function throttle(fn, delay = 500) {
    let timer = null;
    let startTime = Date.now();
    
    const throttled = function(...args) {
        const currentTime = Date.now();
        const remaining = delay - (currentTime - startTime);
        const context = this;
        
        clearTimeout(timer);
        
        if (remaining <= 0) {
            fn.apply(context, args);
            startTime = Date.now();
        } else {
            timer = setTimeout(() => {
                fn.apply(context, args);
                startTime = Date.now();
            }, remaining);
        }
    };
    
    throttled.cancel = function() {
        clearTimeout(timer);
        timer = null;
        startTime = Date.now();
    };
    
    return throttled;
}

// é˜²æŠ–å·¥å…·å‡½æ•°
function debounce(fn, wait = 500, immediate = false) {
    let timer = null;
    
    const debounced = function(...args) {
        const context = this;
        
        if (timer) clearTimeout(timer);
        
        if (immediate) {
            const callNow = !timer;
            
            timer = setTimeout(() => {
                timer = null;
            }, wait);
            
            if (callNow) {
                fn.apply(context, args);
            }
        } else {
            timer = setTimeout(() => {
                fn.apply(context, args);
            }, wait);
        }
    };
    
    debounced.cancel = function() {
        clearTimeout(timer);
        timer = null;
    };
    
    return debounced;
}
```

## ğŸ”„ ä¸‰ã€åŒºåˆ«ä¸é€‰æ‹©

### 3.1 åŸç†å¯¹æ¯”

| ç‰¹æ€§ | é˜²æŠ–(Debounce) | èŠ‚æµ(Throttle) |
|------|---------------|---------------|
| æ‰§è¡Œæ—¶æœº | ç­‰å¾…ä¸€æ®µæ—¶é—´åæ‰§è¡Œ | æŒ‰ç…§ä¸€å®šé¢‘ç‡æ‰§è¡Œ |
| è§¦å‘é¢‘ç‡å˜åŒ–æ—¶ | é‡æ–°è®¡æ—¶ | ä¸å½±å“æ‰§è¡Œé¢‘ç‡ |
| é€‚ç”¨åœºæ™¯ | è¾“å…¥æ¡†æœç´¢ã€çª—å£è°ƒæ•´å¤§å° | æ»šåŠ¨åŠ è½½ã€æŒ‰é’®ç‚¹å‡» |
| æ‰§è¡Œæ¬¡æ•° | è¿ç»­è§¦å‘åªæ‰§è¡Œæœ€åä¸€æ¬¡ | æ¯é—´éš”æ—¶é—´æ‰§è¡Œä¸€æ¬¡ |

### 3.2 å¯è§†åŒ–æ¯”è¾ƒ

å‡è®¾åœ¨2ç§’å†…ï¼Œæˆ‘ä»¬é¢‘ç¹è§¦å‘ä¸€ä¸ªäº‹ä»¶10æ¬¡ï¼Œè®¾ç½®æ—¶é—´é—´éš”ä¸º500msï¼š

- **èŠ‚æµ**ï¼šä¼šæŒ‰ç…§500msçš„é¢‘ç‡æ‰§è¡Œï¼Œçº¦æ‰§è¡Œ4æ¬¡
- **é˜²æŠ–**ï¼šåªä¼šåœ¨æœ€åä¸€æ¬¡è§¦å‘åçš„500msæ‰§è¡Œï¼Œåªæ‰§è¡Œ1æ¬¡

:::info å›¾å½¢åŒ–ç†è§£
å‡è®¾è§¦å‘äº‹ä»¶çš„æ—¶é—´ç‚¹å¦‚ä¸‹æ‰€ç¤ºï¼š

------o------o--o--o-o-o-o--o------o------o---> æ—¶é—´è½´
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â†‘&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â†‘&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â†‘&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â†‘&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â†‘
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5

- èŠ‚æµæƒ…å†µä¸‹çš„æ‰§è¡Œï¼š1 3 5 (å›ºå®šé—´éš”æ‰§è¡Œ)
- é˜²æŠ–æƒ…å†µä¸‹çš„æ‰§è¡Œï¼š5 (æœ€åä¸€æ¬¡è§¦å‘åæ‰§è¡Œ)
:::

## ğŸ¯ å››ã€åº”ç”¨åœºæ™¯

### 4.1 é˜²æŠ–(Debounce)åº”ç”¨åœºæ™¯

:::tip é˜²æŠ–é€‚ç”¨äº
åªå…³å¿ƒæœ€åä¸€æ¬¡æ“ä½œï¼Œæˆ–è€…éœ€è¦ç­‰å¾…æ“ä½œå®Œå…¨åœæ­¢åå†æ‰§è¡Œçš„åœºæ™¯
:::

1. **æœç´¢æ¡†è¾“å…¥**ï¼šç”¨æˆ·è¾“å…¥å®Œæ¯•åå†å‘é€è¯·æ±‚ï¼Œé¿å…é¢‘ç¹è¯·æ±‚
   ```javascript
   const searchInput = document.getElementById('search');
   const handleSearch = debounce(function(e) {
       console.log('æœç´¢:', e.target.value);
       // APIè¯·æ±‚
   }, 500);
   
   searchInput.addEventListener('input', handleSearch);
   ```

2. **çª—å£å¤§å°è°ƒæ•´**ï¼šè°ƒæ•´å®Œæˆåå†é‡æ–°è®¡ç®—å¸ƒå±€
   ```javascript
   const handleResize = debounce(function() {
       console.log('çª—å£å¤§å°è°ƒæ•´å®Œæˆ');
       // é‡æ–°è®¡ç®—å¸ƒå±€
   }, 300);
   
   window.addEventListener('resize', handleResize);
   ```

3. **è¡¨å•éªŒè¯**ï¼šç”¨æˆ·è¾“å…¥å®Œæˆåå†è¿›è¡ŒéªŒè¯
   ```javascript
   const phoneInput = document.getElementById('phone');
   const validatePhone = debounce(function(e) {
       const phone = e.target.value;
       const isValid = /^1[3-9]\d{9}$/.test(phone);
       
       if (!isValid) {
           showError('è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·');
       } else {
           hideError();
       }
   }, 400);
   
   phoneInput.addEventListener('input', validatePhone);
   ```

### 4.2 èŠ‚æµ(Throttle)åº”ç”¨åœºæ™¯

:::tip èŠ‚æµé€‚ç”¨äº
éœ€è¦æŒç»­è§¦å‘ä½†åˆä¸å¸Œæœ›é¢‘ç‡è¿‡é«˜çš„åœºæ™¯
:::

1. **æ»šåŠ¨åŠ è½½**ï¼šæ»šåŠ¨æ—¶æ¯éš”ä¸€æ®µæ—¶é—´æ£€æŸ¥ä¸€æ¬¡æ˜¯å¦éœ€è¦åŠ è½½æ›´å¤š
   ```javascript
   const handleScroll = throttle(function() {
       const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
       
       if (scrollTop + clientHeight >= scrollHeight - 100) {
           console.log('è·ç¦»åº•éƒ¨100pxï¼ŒåŠ è½½æ›´å¤šæ•°æ®');
           loadMoreData();
       }
   }, 300);
   
   window.addEventListener('scroll', handleScroll);
   ```

2. **æŒ‰é’®ç‚¹å‡»**ï¼šé˜²æ­¢ç”¨æˆ·å¿«é€Ÿå¤šæ¬¡ç‚¹å‡»æäº¤æŒ‰é’®
   ```javascript
   const submitBtn = document.getElementById('submit');
   const handleSubmit = throttle(function(e) {
       console.log('æäº¤è¡¨å•');
       // æäº¤è¡¨å•é€»è¾‘
   }, 1000); // è®¾ç½®è¾ƒå¤§çš„é—´éš”ï¼Œé˜²æ­¢é‡å¤æäº¤
   
   submitBtn.addEventListener('click', handleSubmit);
   ```

3. **æ¸¸æˆä¸­çš„æŒ‰é”®å“åº”**ï¼šæ§åˆ¶è§’è‰²ç§»åŠ¨é¢‘ç‡
   ```javascript
   const handleKeyDown = throttle(function(e) {
       switch(e.key) {
           case 'ArrowUp':
               moveCharacter('up');
               break;
           case 'ArrowDown':
               moveCharacter('down');
               break;
           // å…¶ä»–æŒ‰é”®å¤„ç†
       }
   }, 100); // æ¯100mså“åº”ä¸€æ¬¡æŒ‰é”®
   
   window.addEventListener('keydown', handleKeyDown);
   ```

## ğŸ’¡ äº”ã€å®æˆ˜æŠ€å·§ä¸æœ€ä½³å®è·µ

### 5.1 åœ¨Reactä¸­ä½¿ç”¨

åœ¨Reactç»„ä»¶ä¸­ä½¿ç”¨é˜²æŠ–å’ŒèŠ‚æµéœ€è¦æ³¨æ„å‡½æ•°çš„å¼•ç”¨é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨useCallbackå’ŒuseEffectæ¥ä¼˜åŒ–ï¼š

```jsx
import React, { useState, useCallback, useEffect } from 'react';

function SearchComponent() {
    const [query, setQuery] = useState('');
    const [results, setResults] = useState([]);
    
    // ä½¿ç”¨useCallbackåŒ…è£¹ï¼Œç¡®ä¿å‡½æ•°å¼•ç”¨ç¨³å®š
    const debouncedSearch = useCallback(
        debounce(async (searchTerm) => {
            if (searchTerm.length < 2) return;
            
            try {
                const response = await fetch(`/api/search?q=${searchTerm}`);
                const data = await response.json();
                setResults(data);
            } catch (error) {
                console.error('æœç´¢å‡ºé”™:', error);
            }
        }, 500),
        [] // ç©ºä¾èµ–æ•°ç»„ï¼Œç¡®ä¿debounceå‡½æ•°åªåˆ›å»ºä¸€æ¬¡
    );
    
    // å¤„ç†è¾“å…¥å˜åŒ–
    const handleInputChange = (e) => {
        const value = e.target.value;
        setQuery(value);
        debouncedSearch(value);
    };
    
    // ç»„ä»¶å¸è½½æ—¶å–æ¶ˆé˜²æŠ–å‡½æ•°
    useEffect(() => {
        return () => {
            debouncedSearch.cancel();
        };
    }, [debouncedSearch]);
    
    return (
        <div>
            <input
                type="text"
                value={query}
                onChange={handleInputChange}
                placeholder="æœç´¢..."
            />
            <ul>
                {results.map(item => (
                    <li key={item.id}>{item.name}</li>
                ))}
            </ul>
        </div>
    );
}
```

### 5.2 è‡ªå®šä¹‰React Hooks

å°†é˜²æŠ–å’ŒèŠ‚æµå°è£…æˆè‡ªå®šä¹‰hooksï¼Œä¾¿äºåœ¨å¤šä¸ªç»„ä»¶ä¸­å¤ç”¨ï¼š

```jsx
// useDebounce.js
import { useCallback, useEffect, useRef } from 'react';

function useDebounce(fn, delay = 500, deps = []) {
    const fnRef = useRef(fn);
    
    // æ›´æ–°fnRef.currentä¸ºæœ€æ–°çš„fn
    useEffect(() => {
        fnRef.current = fn;
    });
    
    const debounced = useCallback(
        debounce((...args) => {
            fnRef.current(...args);
        }, delay),
        [delay, ...deps]
    );
    
    // ç»„ä»¶å¸è½½æ—¶å–æ¶ˆé˜²æŠ–
    useEffect(() => {
        return () => {
            debounced.cancel();
        };
    }, [debounced]);
    
    return debounced;
}

// ä½¿ç”¨æ–¹å¼
function SearchComponent() {
    const [query, setQuery] = useState('');
    
    const handleSearch = useDebounce((value) => {
        // æœç´¢é€»è¾‘
        fetchSearchResults(value);
    }, 500);
    
    return (
        <input
            type="text"
            onChange={(e) => {
                setQuery(e.target.value);
                handleSearch(e.target.value);
            }}
            value={query}
        />
    );
}
```

### 5.3 æ€§èƒ½ä¼˜åŒ–æ³¨æ„äº‹é¡¹

:::warning æ³¨æ„äº‹é¡¹
1. é€‰æ‹©åˆé€‚çš„å»¶è¿Ÿæ—¶é—´ï¼šæ ¹æ®å…·ä½“åœºæ™¯è°ƒæ•´ï¼Œé€šå¸¸100ms-500msæ˜¯åˆç†èŒƒå›´
2. è€ƒè™‘ç§»åŠ¨è®¾å¤‡ï¼šç§»åŠ¨è®¾å¤‡ä¸Šå¯èƒ½éœ€è¦æ›´é•¿çš„å»¶è¿Ÿæ—¶é—´
3. æ¸…ç†å‡½æ•°ï¼šç¡®ä¿åœ¨ç»„ä»¶å¸è½½æ—¶å–æ¶ˆé˜²æŠ–/èŠ‚æµ
4. é¿å…é—­åŒ…é™·é˜±ï¼šåœ¨Reactä¸­ä½¿ç”¨useRefä¿å­˜æœ€æ–°çŠ¶æ€
:::

## ğŸ“š å…­ã€æ€»ç»“

é˜²æŠ–å’ŒèŠ‚æµæ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„å¿…å¤‡æŠ€å·§ï¼Œä¸¤è€…è™½ç„¶æ¦‚å¿µç›¸ä¼¼ï¼Œä½†ä½¿ç”¨åœºæ™¯å’Œæ•ˆæœæœ‰æ˜æ˜¾åŒºåˆ«ï¼š

- **é˜²æŠ–(Debounce)**ï¼šé€‚åˆå¤„ç†æœ€ç»ˆçŠ¶æ€ï¼Œç­‰å¾…ç”¨æˆ·æ“ä½œå®Œæˆåå†æ‰§è¡Œ
- **èŠ‚æµ(Throttle)**ï¼šé€‚åˆæ§åˆ¶æ‰§è¡Œé¢‘ç‡ï¼ŒæŒ‰æ—¶é—´é—´éš”æ‰§è¡Œ

é€‰æ‹©å“ªç§æŠ€æœ¯ä¸»è¦å–å†³äºä½ å¸Œæœ›å‡½æ•°å¦‚ä½•å“åº”ï¼š

- å¦‚æœä½ æƒ³ç­‰å¾…ä¸€ç³»åˆ—æ“ä½œå®Œæˆåå†æ‰§è¡Œä¸€æ¬¡ï¼Œé€‰æ‹©**é˜²æŠ–**
- å¦‚æœä½ å¸Œæœ›åœ¨æ“ä½œè¿‡ç¨‹ä¸­æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œï¼Œé€‰æ‹©**èŠ‚æµ**

é€šè¿‡åˆç†ä½¿ç”¨è¿™ä¸¤ç§æŠ€æœ¯ï¼Œå¯ä»¥æ˜¾è‘—æé«˜åº”ç”¨æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒï¼Œå‡å°‘ä¸å¿…è¦çš„è®¡ç®—å’Œèµ„æºæ¶ˆè€—ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé˜²æŠ–å’ŒèŠ‚æµå¸¸å¸¸æ˜¯è§£å†³æ€§èƒ½é—®é¢˜çš„ç¬¬ä¸€é“é˜²çº¿ã€‚

> ğŸ’¡ å°æç¤ºï¼šä¸ºäº†é¿å…é‡å¤ç¼–å†™è¿™äº›å·¥å…·å‡½æ•°ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æˆç†Ÿçš„åº“ï¼Œå¦‚lodashçš„`_.debounce`å’Œ`_.throttle`ï¼Œå®ƒä»¬æœ‰æ›´å®Œå–„çš„å®ç°å’Œè¾¹ç•Œæƒ…å†µå¤„ç†ã€‚

å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ ç†è§£å’Œåº”ç”¨é˜²æŠ–ä¸èŠ‚æµæœ‰æ‰€å¸®åŠ©ï¼å¦‚æœæœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµã€‚ğŸ‘‹
